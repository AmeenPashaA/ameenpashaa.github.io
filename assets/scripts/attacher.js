const sections=document.querySelectorAll("section"),navLinks=document.querySelectorAll("nav a");window.addEventListener("scroll",(()=>{let e="";window.pageYOffset<100?e="home":sections.forEach((t=>{const o=t.offsetTop;t.clientHeight;window.pageYOffset>=o-100&&(e=t.getAttribute("id"))})),navLinks.forEach((t=>{t.classList.remove("active"),t.getAttribute("href").includes(e)&&t.classList.add("active")}))})),document.querySelectorAll(".carousel").forEach((e=>{const t=e.querySelectorAll("img");let o=0;setInterval((()=>{t[o].classList.remove("active"),o=(o+1)%t.length,t[o].classList.add("active")}),3e3)}));const form=document.getElementById("contact-form"),formMessage=document.getElementById("form-message");form.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(form);fetch(form.action,{method:form.method,body:t,headers:{Accept:"application/json"}}).then((e=>{e.ok?(formMessage.textContent="Thank you! Your message has been sent.",form.reset()):e.json().then((e=>{e.errors?formMessage.textContent=e.errors.map((e=>e.message)).join(", "):formMessage.textContent="Oops! There was a problem submitting your form."}))})).catch((()=>{formMessage.textContent="Oops! There was a problem submitting your form."}))}));const scrollBtn=document.getElementById("scrollToTopBtn");window.addEventListener("scroll",(()=>{window.pageYOffset>300?scrollBtn.classList.add("show"):scrollBtn.classList.remove("show")})),scrollBtn.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}));const trail=document.getElementById("cursor-trail");let mouseX=0,mouseY=0,trailX=0,trailY=0;function animateTrail(){trailX+=.15*(mouseX-trailX),trailY+=.15*(mouseY-trailY),trail.style.left=trailX+"px",trail.style.top=trailY+"px",requestAnimationFrame(animateTrail)}window.addEventListener("mousemove",(e=>{mouseX=e.clientX,mouseY=e.clientY})),animateTrail();